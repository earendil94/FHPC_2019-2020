group_by(N, THREADS) %>%
summarise(time = mean(TIME), std = std(TIME))
?std
df.times <- df.01 %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME), std = sqrt(var(TIME)))
df.times
df.01 <- df.01 %>%
filter( N > 10000000)
#StrongScaling
strongScaling <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
K <- unique(df.times$N)
TH <- unique(df.times$THREADS)
#p <- list()
par(mfrow=c(2,3))
for (n in K){
df.temp <- filter(df.times, N == n)
T1 <- df.temp %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.temp %>%
filter(THREADS != 1) %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
plot(data_to_graph, type="l")
#p[[n]] <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
}
#do.call(grid.arrange, plots)
}
strongScaling(df.01)
#StrongScaling
strongScaling <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
K <- unique(df.times$N)
TH <- unique(df.times$THREADS)
#p <- list()
par(mfrow=c(1,2))
for (n in K){
df.temp <- filter(df.times, N == n)
T1 <- df.temp %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.temp %>%
filter(THREADS != 1) %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
plot(data_to_graph, type="l")
#p[[n]] <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
}
#do.call(grid.arrange, plots)
}
strongScaling(df.01)
df.times <- df.01 %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME), std = sqrt(var(TIME)))
df.times
strongScaling(df.preSum)
df.preSum <- read.csv("../../ulyssesResults/prefixSum.csv", sep = ";")
df.preSumNew <- read.csv("../../ulyssesResults/prefixSumNew.csv", sep = ";")
#StrongScaling
strongScaling <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
K <- unique(df.times$N)
TH <- unique(df.times$THREADS)
#p <- list()
par(mfrow=c(2,3))
for (n in K){
df.temp <- filter(df.times, N == n)
T1 <- df.temp %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.temp %>%
filter(THREADS != 1) %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
plot(data_to_graph, type="l")
#p[[n]] <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
}
#do.call(grid.arrange, plots)
}
strongScaling(df.preSum)
strongScaling(df.preSumNew)
strongScaling(df.preSum)
strongScaling(df.preSumNew)
strongScaling(df.01)
strongScaling(df.06)
df.06 <- read.csv("../../ulyssesResults/06_touch_by_all.csv", sep = ";")
#StrongScaling
strongScaling <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
K <- unique(df.times$N)
TH <- unique(df.times$THREADS)
#p <- list()
par(mfrow=c(1,2))
for (n in K){
df.temp <- filter(df.times, N == n)
T1 <- df.temp %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.temp %>%
filter(THREADS != 1) %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
plot(data_to_graph, type="l")
#p[[n]] <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
}
#do.call(grid.arrange, plots)
}
df.01 <- df.01 %>%
filter(N>10000000)
df.06 <- df.06 %>%
filter(N>10000000)
#StrongScaling
strongScaling <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
K <- unique(df.times$N)
TH <- unique(df.times$THREADS)
#p <- list()
par(mfrow=c(1,2))
for (n in K){
df.temp <- filter(df.times, N == n)
T1 <- df.temp %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.temp %>%
filter(THREADS != 1) %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
plot(data_to_graph, type="l")
#p[[n]] <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
}
#do.call(grid.arrange, plots)
}
strongScaling(df.01)
df-try <- mean_std_df(df.01)
#Some useful functions
mean_std_df <- function(df){
df.times <- df %>%
group_by(N, THREADS) %>%
summarise(time = mean(TIME))
return(df.times)
}
df-try <- mean_std_df(df.01)
df_try <- mean_std_df(df.01)
df_try
df.01_8 <- df.01 %>%
filter(N==100000000)
df.06_8 <- df.06 %>%
filter(N==100000000)
df.01_9 <- df.01 %>%
filter(N==1000000000)
df.06_9 <- df.06 %>%
filter(N==1000000000)
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(p)
}
df_01_8_plot <- strongScaling(df.01_8)
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
print(sp)
print(TH)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(p)
}
df_01_8_plot <- strongScaling(df.01_8)
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
sp <- c(1,sp)
print(sp)
print(TH)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(p)
}
df_01_8_plot <- strongScaling(df.01_8)
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
print(sp)
print(TH)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(p)
}
df_01_8_plot <- strongScaling(df.01_8)
library(ggplot2)
#library
library(gridExtra)
df_01_8_plot <- strongScaling(df.01_8)
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(p)
}
df_01_8_plot <- strongScaling(df.01_8)
view(df_01_8_plot)
#installing
install.packages("ggpubr")
library(ggpubr)
df_06_8_plot <- strongScaling(df.06_8)
figure <- ggarrange(df_01_8_plot,df_06_8_plot)
figure
df_01_8_sp <- strongScaling(df.01_8)
df_06_8_sp <- strongScaling(df.06_8)
ggplot(df_01_8_sp, aes(Threads,Speedup)) + geom_point()
df_01_8_sp
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
data_to_graph <- tibble(Thr= TH, Speedup = sp)
#plot(data_to_graph, type="l")
#p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(data_to_graph)
}
df_01_8_sp <- strongScaling(df.01_8)
df_06_8_sp <- strongScaling(df.06_8)
df_01_8_sp
ggplot(df_01_8_sp, aes(Threads,Speedup)) + geom_point()
ggplot(df_01_8_sp, aes(Thr,Speedup)) + geom_point()
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
data_to_graph <- tibble(Threads = TH, Speedup = sp)
#plot(data_to_graph, type="l")
#p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(data_to_graph)
}
df_01_8_sp <- strongScaling(df.01_8)
ggplot(df_01_8_sp, aes(Threads,Speedup)) + geom_point()
ggplot(df_01_8_sp, aes(Threads,Speedup)) + geom_line()
ggplot(df_01_8_sp, aes(Threads,Speedup)) +
geom_line() +
geom_line(data=df_06_8_sp, aes(Threads,Speedup))
df_06_8_sp <- strongScaling(df.06_8)
ggplot(df_01_8_sp, aes(Threads,Speedup)) +
geom_line() +
geom_line(data=df_06_8_sp, aes(Threads,Speedup))
ggplot(df_01_8_sp, aes(Threads,Speedup)) +
geom_line() +
geom_line(data=df_06_8_sp, aes(Threads,Speedup), colour="red")
ggplot(df_01_8_sp, aes(Threads,Speedup)) +
geom_line(colour = "red") +
geom_line(data=df_06_8_sp, aes(Threads,Speedup), colour="blue")
ggplot(df_01_8_sp, aes(Threads,Speedup)) +
geom_line(colour = "red") +
geom_curve(data=df_06_8_sp, aes(Threads,Speedup), colour="blue")
df_01_8_sp
df.01_8
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
data_to_graph <- tibble(Threads = TH, Speedup = sp)
#plot(data_to_graph, type="l")
#p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(data_to_graph)
}
df_01_8_sp <- df_01_8_sp %>%
mutate(label = "01")
df_06_8_sp <- df_06_8_sp %>%
mutate(label= "06")
ggplot(df_01_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line()
df_8_sp <- bind_rows(df_01_8_sp,df_06_8_sp )
df_8_sp
ggplot(df_01_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line()
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line()
#And now for 9
df_01_9_sp <- strongScaling(df.01_9)
df_06_9_sp <- strongScaling(df.06_9)
df_01_9_sp <- df_01_9_sp %>%
mutate(label = "01")
df_06_9_sp <- df_06_9_sp %>%
mutate(label= "06")
df_9_sp <- bind_rows(df_01_9_sp,df_06_9_sp )
df_9_sp
ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line()
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=5)
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2)
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label), title = "N = 10^8") +
geom_line(size=2)
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^8")
?ggtitle
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^8") +
theme(plot.title = element_text(hjust = 0.5))
ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line() +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
png(file="C:\Users\franc\Documents\TriesteUni\HPC\Speedup_0_8.png",
width = 400, height=350)
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_8.png",
width = 400, height=350)
ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^8") +
theme(plot.title = element_text(hjust = 0.5))
dev.off()
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_9.png",
width = 400, height=350)
ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
dev.off()
#png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_8.png",
#    width = 400, height=350)
df_8_sp_plot <- ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^8") +
theme(plot.title = element_text(hjust = 0.5))
#png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_9.png",
#    width = 400, height=350)
df_9_sp_plot <- ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
figure <- ggarrange(df_8_sp_plot,df_9_sp_plot)
figure
strongScaling <- function(df){
df.times <- mean_std_df(df)
TH <- unique(df.times$THREADS)
T1 <- df.times %>%
filter(THREADS == 1) %>%
pull(time)
TP <- df.times %>%
pull(time)
sp <- T1/TP
#Let's add speedup for 1 thread manually
#sp <- c(1,sp)
p <- 1:20
e <- (1/sp - 1/p)/(1-1/p)
data_to_graph <- tibble(Threads = TH, Speedup = sp, e = e)
#plot(data_to_graph, type="l")
#p <- ggplot(data_to_graph, aes(Thr,Speedup)) + geom_point()
return(data_to_graph)
}
df_01_8_sp <- strongScaling(df.01_8)
df_06_8_sp <- strongScaling(df.06_8)
df_01_8_sp <- df_01_8_sp %>%
mutate(label = "01")
df_06_8_sp <- df_06_8_sp %>%
mutate(label= "06")
df_8_sp <- bind_rows(df_01_8_sp,df_06_8_sp )
df_8_sp
#png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_8.png",
#    width = 400, height=350)
df_8_sp_plot <- ggplot(df_8_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^8") +
theme(plot.title = element_text(hjust = 0.5))
#And now for 9
df_01_9_sp <- strongScaling(df.01_9)
df_06_9_sp <- strongScaling(df.06_9)
df_01_9_sp <- df_01_9_sp %>%
mutate(label = "01")
df_06_9_sp <- df_06_9_sp %>%
mutate(label= "06")
df_9_sp <- bind_rows(df_01_9_sp,df_06_9_sp )
df_9_sp
#png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0_9.png",
#    width = 400, height=350)
df_9_sp_plot <- ggplot(df_9_sp, aes(x=Threads,y=Speedup,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
figure <- ggarrange(df_8_sp_plot,df_9_sp_plot)
figure
df_8_e_plot <- ggplot(df_8_sp, aes(x=Threads,y=e,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
df_9_e_plot <- ggplot(df_9_sp, aes(x=Threads,y=e,color=label)) +
geom_line(size=2) +
ggtitle("N = 10^9") +
theme(plot.title = element_text(hjust = 0.5))
figure_e <- ggarrange(df_8_e_plot,df_9_e_plot)
figure
figure_e
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0.png",
width = 400, height=350)
figure <- ggarrange(df_8_sp_plot,df_9_sp_plot)
figure
dev.off()
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\ParallelOverhead_0.png",
width = 400, height=350)
figure_e <- ggarrange(df_8_e_plot,df_9_e_plot)
figure_e
dev.off()
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\Speedup_0.png",
width = 600, height=350)
figure <- ggarrange(df_8_sp_plot,df_9_sp_plot)
figure
dev.off()
png(file="C:\\Users\\franc\\Documents\\TriesteUni\\HPC\\ParallelOverhead_0.png",
width = 600, height=350)
figure_e <- ggarrange(df_8_e_plot,df_9_e_plot)
figure_e
dev.off()
